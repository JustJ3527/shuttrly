<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Gallery Test</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="photo-search.css">
    <link rel="stylesheet" href="advanced-gallery.css">
    
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f7;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .test-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e5e5e7;
        }
        
        .test-header h1 {
            color: #1d1d1f;
            margin: 0 0 10px 0;
        }
        
        .test-header p {
            color: #8e8e93;
            margin: 0;
        }
        
        .test-photos {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .test-photo {
            background: #f5f5f7;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            border: 2px dashed #d2d2d7;
        }
        
        .test-photo img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 4px;
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
        }
        
        .test-photo h4 {
            margin: 10px 0 5px 0;
            color: #1d1d1f;
        }
        
        .test-photo p {
            margin: 0;
            color: #8e8e93;
            font-size: 0.875rem;
        }
        
        .test-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .test-btn {
            padding: 8px 16px;
            border: 1px solid #007aff;
            background: white;
            color: #007aff;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.2s ease;
        }
        
        .test-btn:hover {
            background: #007aff;
            color: white;
        }
        
        .test-btn.active {
            background: #007aff;
            color: white;
        }
        
        .test-info {
            background: #f5f5f7;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .test-info h3 {
            margin: 0 0 10px 0;
            color: #1d1d1f;
        }
        
        .test-info p {
            margin: 5px 0;
            color: #636366;
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1><i class="fas fa-vial"></i> Advanced Gallery Test</h1>
            <p>Test page for the Advanced Gallery component with mock data</p>
        </div>
        
        <!-- Test Controls -->
        <div class="test-controls">
            <button class="test-btn" onclick="testLayout('grid')">Test Grid Layout</button>
            <button class="test-btn" onclick="testLayout('masonry')">Test Masonry Layout</button>
            <button class="test-btn" onclick="testSelection()">Test Selection Mode</button>
            <button class="test-btn" onclick="testSearch()">Test Search</button>
            <button class="test-btn" onclick="testLazyLoading()">Test Lazy Loading</button>
            <button class="test-btn" onclick="resetTest()">Reset</button>
        </div>
        
        <!-- Advanced Gallery Container -->
        <div class="advanced-gallery-container">
            <!-- Gallery Header -->
            <div class="gallery-header">
                <div class="gallery-title-section">
                    <h1 class="gallery-title">
                        <i class="fas fa-images"></i>
                        Test Gallery
                    </h1>
                    <div class="gallery-stats">
                        <span class="stat-item">
                            <i class="fas fa-camera"></i>
                            12 photos
                        </span>
                        <span class="stat-item">
                            <i class="fas fa-file-code"></i>
                            3 RAW
                        </span>
                        <span class="stat-item">
                            <i class="fas fa-globe"></i>
                            8 public
                        </span>
                    </div>
                </div>
                
                <!-- Layout Controls -->
                <div class="layout-controls">
                    <button type="button" class="layout-btn active" data-layout="grid" title="Grid Layout">
                        <i class="fas fa-th"></i>
                    </button>
                    <button type="button" class="layout-btn" data-layout="masonry" title="Masonry Layout">
                        <i class="fas fa-th-large"></i>
                    </button>
                </div>
            </div>

            <!-- Gallery Controls -->
            <div class="gallery-controls">
                <div class="search-section">
                    <div class="photo-search-container">
                        <input type="text" 
                               class="photo-search-input" 
                               placeholder="Search photos by title, description, tags, camera, or date taken..."
                               autocomplete="off">
                        <div class="photo-search-results"></div>
                    </div>
                </div>
                
                <!-- Selection Controls -->
                <div class="selection-controls">
                    <button type="button" class="btn btn-outline-primary" id="toggle-selection-mode">
                        <i class="fas fa-check-square"></i>
                        <span class="btn-text">Select Photos</span>
                    </button>
                    
                    <!-- Bulk Actions -->
                    <div class="bulk-actions" id="bulk-actions" style="display: none;">
                        <span class="selection-count">
                            <span id="selected-count">0</span> selected
                        </span>
                        
                        <div class="action-buttons">
                            <button type="button" class="btn btn-primary" id="add-to-collection-btn">
                                <i class="fas fa-folder-plus"></i>
                                Add to Collection
                            </button>
                            <button type="button" class="btn btn-success" id="create-post-btn">
                                <i class="fas fa-plus"></i>
                                Create Post
                            </button>
                            <button type="button" class="btn btn-warning" id="bulk-edit-btn">
                                <i class="fas fa-edit"></i>
                                Bulk Edit
                            </button>
                            <button type="button" class="btn btn-danger" id="bulk-delete-btn">
                                <i class="fas fa-trash"></i>
                                Delete
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Photo Grid -->
            <div class="photo-grid-container" id="photo-grid-container">
                <div class="photo-grid" id="photo-grid">
                    <!-- Mock Photos -->
                    <div class="photo-item" 
                         data-photo-id="1"
                         data-description="Beautiful sunset over the mountains"
                         data-tags="#sunset #mountains #nature"
                         data-date-taken="Dec 15, 2023"
                         data-camera="Canon EOS R5"
                         data-raw="false"
                         data-title="Mountain Sunset">
                        
                        <input type="checkbox" 
                               name="selected_photos" 
                               value="1" 
                               class="photo-checkbox"
                               style="display: none;">
                        
                        <div class="photo-image-container">
                            <img src="https://picsum.photos/400/300?random=1" 
                                 alt="Mountain Sunset"
                                 class="photo-thumbnail lazy-load"
                                 data-src="https://picsum.photos/400/300?random=1"
                                 loading="lazy">
                            
                            <div class="photo-overlay">
                                <div class="photo-info">
                                    <h4 class="photo-title">Mountain Sunset</h4>
                                    <p class="photo-description">Beautiful sunset over the mountains</p>
                                    <div class="photo-meta">
                                        <span class="meta-item">
                                            <i class="fas fa-calendar"></i>
                                            Dec 15, 2023
                                        </span>
                                        <span class="meta-item">
                                            <i class="fas fa-camera"></i>
                                            Canon EOS R5
                                        </span>
                                    </div>
                                    <div class="photo-tags">
                                        <span class="tag">#sunset</span>
                                        <span class="tag">#mountains</span>
                                        <span class="tag">#nature</span>
                                    </div>
                                </div>
                                
                                <div class="photo-actions">
                                    <a href="#" class="action-btn view-btn" title="View Details">
                                        <i class="fas fa-eye"></i>
                                    </a>
                                    <a href="#" class="action-btn edit-btn" title="Edit Photo">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <a href="#" class="action-btn download-btn" title="Download">
                                        <i class="fas fa-download"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- More mock photos... -->
                    <div class="photo-item" 
                         data-photo-id="2"
                         data-description="Urban architecture in downtown"
                         data-tags="#urban #architecture #city"
                         data-date-taken="Dec 14, 2023"
                         data-camera="Sony A7R IV"
                         data-raw="true"
                         data-title="Urban Architecture">
                        
                        <input type="checkbox" 
                               name="selected_photos" 
                               value="2" 
                               class="photo-checkbox"
                               style="display: none;">
                        
                        <div class="photo-image-container">
                            <img src="https://picsum.photos/400/500?random=2" 
                                 alt="Urban Architecture"
                                 class="photo-thumbnail lazy-load"
                                 data-src="https://picsum.photos/400/500?random=2"
                                 loading="lazy">
                            
                            <div class="photo-overlay">
                                <div class="photo-info">
                                    <h4 class="photo-title">Urban Architecture</h4>
                                    <p class="photo-description">Urban architecture in downtown</p>
                                    <div class="photo-meta">
                                        <span class="meta-item">
                                            <i class="fas fa-calendar"></i>
                                            Dec 14, 2023
                                        </span>
                                        <span class="meta-item">
                                            <i class="fas fa-camera"></i>
                                            Sony A7R IV
                                        </span>
                                        <span class="meta-item raw-indicator">
                                            <i class="fas fa-file-code"></i>
                                            RAW
                                        </span>
                                    </div>
                                    <div class="photo-tags">
                                        <span class="tag">#urban</span>
                                        <span class="tag">#architecture</span>
                                        <span class="tag">#city</span>
                                    </div>
                                </div>
                                
                                <div class="photo-actions">
                                    <a href="#" class="action-btn view-btn" title="View Details">
                                        <i class="fas fa-eye"></i>
                                    </a>
                                    <a href="#" class="action-btn edit-btn" title="Edit Photo">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <a href="#" class="action-btn download-btn" title="Download">
                                        <i class="fas fa-download"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Add more mock photos as needed -->
                    <div class="photo-item" 
                         data-photo-id="3"
                         data-description="Portrait of a young woman"
                         data-tags="#portrait #woman #studio"
                         data-date-taken="Dec 13, 2023"
                         data-camera="Canon EOS R5"
                         data-raw="false"
                         data-title="Portrait Study">
                        
                        <input type="checkbox" 
                               name="selected_photos" 
                               value="3" 
                               class="photo-checkbox"
                               style="display: none;">
                        
                        <div class="photo-image-container">
                            <img src="https://picsum.photos/400/400?random=3" 
                                 alt="Portrait Study"
                                 class="photo-thumbnail lazy-load"
                                 data-src="https://picsum.photos/400/400?random=3"
                                 loading="lazy">
                            
                            <div class="photo-overlay">
                                <div class="photo-info">
                                    <h4 class="photo-title">Portrait Study</h4>
                                    <p class="photo-description">Portrait of a young woman</p>
                                    <div class="photo-meta">
                                        <span class="meta-item">
                                            <i class="fas fa-calendar"></i>
                                            Dec 13, 2023
                                        </span>
                                        <span class="meta-item">
                                            <i class="fas fa-camera"></i>
                                            Canon EOS R5
                                        </span>
                                    </div>
                                    <div class="photo-tags">
                                        <span class="tag">#portrait</span>
                                        <span class="tag">#woman</span>
                                        <span class="tag">#studio</span>
                                    </div>
                                </div>
                                
                                <div class="photo-actions">
                                    <a href="#" class="action-btn view-btn" title="View Details">
                                        <i class="fas fa-eye"></i>
                                    </a>
                                    <a href="#" class="action-btn edit-btn" title="Edit Photo">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <a href="#" class="action-btn download-btn" title="Download">
                                        <i class="fas fa-download"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Test Info -->
        <div class="test-info">
            <h3><i class="fas fa-info-circle"></i> Test Information</h3>
            <p><strong>Status:</strong> <span id="test-status">Ready for testing</span></p>
            <p><strong>Current Layout:</strong> <span id="current-layout">grid</span></p>
            <p><strong>Selection Mode:</strong> <span id="selection-mode">disabled</span></p>
            <p><strong>Selected Photos:</strong> <span id="selected-photos-count">0</span></p>
            <p><strong>Search Term:</strong> <span id="search-term">none</span></p>
        </div>
    </div>
    
    <!-- JavaScript Files -->
    <script src="photo-search.js"></script>
    <script src="photo-selector.js"></script>
    <script src="advanced-gallery.js"></script>
    
    <script>
        // Test functions
        function testLayout(layout) {
            if (window.advancedGallery) {
                window.advancedGallery.switchLayout(layout);
                document.getElementById('current-layout').textContent = layout;
                document.getElementById('test-status').textContent = `Layout switched to ${layout}`;
            }
        }
        
        function testSelection() {
            if (window.advancedGallery) {
                window.advancedGallery.toggleSelectionMode();
                const isEnabled = window.advancedGallery.selectionMode;
                document.getElementById('selection-mode').textContent = isEnabled ? 'enabled' : 'disabled';
                document.getElementById('test-status').textContent = `Selection mode ${isEnabled ? 'enabled' : 'disabled'}`;
            }
        }
        
        function testSearch() {
            const searchInput = document.querySelector('.photo-search-input');
            if (searchInput) {
                searchInput.value = 'sunset';
                searchInput.dispatchEvent(new Event('input'));
                document.getElementById('search-term').textContent = 'sunset';
                document.getElementById('test-status').textContent = 'Search test performed';
            }
        }
        
        function testLazyLoading() {
            if (window.advancedGallery) {
                window.advancedGallery.loadAllImages();
                document.getElementById('test-status').textContent = 'Lazy loading test performed';
            }
        }
        
        function resetTest() {
            // Reset search
            const searchInput = document.querySelector('.photo-search-input');
            if (searchInput) {
                searchInput.value = '';
                searchInput.dispatchEvent(new Event('input'));
            }
            
            // Reset selection
            if (window.advancedGallery && window.advancedGallery.selectionMode) {
                window.advancedGallery.toggleSelectionMode();
            }
            
            // Reset layout
            if (window.advancedGallery) {
                window.advancedGallery.switchLayout('grid');
            }
            
            // Update status
            document.getElementById('test-status').textContent = 'Test reset completed';
            document.getElementById('current-layout').textContent = 'grid';
            document.getElementById('selection-mode').textContent = 'disabled';
            document.getElementById('selected-photos-count').textContent = '0';
            document.getElementById('search-term').textContent = 'none';
        }
        
        // Update test info when gallery changes
        document.addEventListener('DOMContentLoaded', function() {
            // Monitor selection changes
            setInterval(() => {
                if (window.advancedGallery) {
                    document.getElementById('selected-photos-count').textContent = window.advancedGallery.selectedPhotos.size;
                }
            }, 1000);
        });
    </script>
</body>
</html>
